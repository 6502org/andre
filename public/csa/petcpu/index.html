<HTML>
<HEAD>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<META NAME="keywords" CONTENT="CSA65 6502 PET CPU">
<TITLE>CS/A65 PETCPU</TITLE>
<LINK REL="stylesheet" TITLE="Default" TYPE="text/css" HREF="../../style.css">
<LINK REL="alternate stylesheet" TITLE="Advanced" TYPE="text/css" HREF="../../advanced.css">
</HEAD>
<BODY>
<DIV ID="menu">
<ul><li class=homepage><a href=../../index.html>Homepage</a></li>
<ul class="menu0" >
<li class="separator">Commodore</li>
<li class="dir"><a href="../../petindex/index.html">CBM PETindex</a></li>
<li class="dir"><a href="../../cbmhw/index.html">CBM hardware and mods</a></li>
<li class="separator">Hardware</li>
<li class="dir"><a href="../../csa/index.html">CS/A65 and Gecko computer</a></li>
<ul class="menu1" >
<li class="separator">Specifications</li>
<li class="file"><a href="../bus.html">Bus V1.0</a></li>
<li class="file"><a href="../bus-1.1.html">Bus V1.1</a></li>
<li class="separator">Main boards</li>
<li class="dir"><a href="../cpu/index.html">CS/A65 CPU</a></li>
<li class="dir"><a href="../bios/index.html">CS/A65 BIOS </a></li>
<li class="dir"><a href="../petcpu/index.html">64k PET CPU</a></li>

<li class="dir"><a href="../gecko/index.html">Gecko</a></li>
<li class="separator">I/O boards</li>
<li class="dir"><a href="../vdc/index.html">Video board</a></li>
<li class="dir"><a href="../petio/index.html">CBM PET I/O</a></li>
<li class="dir"><a href="../shug/index.html">PC floppy</a></li>
<li class="dir"><a href="../drvio/index.html">DRVIO floppy and IEC</a></li>
<li class="dir"><a href="../duart/index.html">Double UART (RS232)</a></li>
<li class="dir"><a href="../scsi/index.html">SCSI/I2C board</a></li>
<li class="separator">Special purpose</li>
<li class="dir"><a href="../copro/index.html">Coprocessor board</a></li>
<li class="dir"><a href="../cpuemu/index.html">Emulate a 6502</a></li>
<li class="dir"><a href="../keyemu/index.html">Emulate a keyboard</a></li>
<li class="separator">Deprecated boards</li>
<li class="dir"><a href="../cpu65b/index.html">64k CPU</a></li>
<li class="dir"><a href="../key/index.html">Keyboard and RS232</a></li>
<li class="dir"><a href="../iec/index.html">IEEE488 and CBM IEC</a></li>
<li class="separator">Other links</li>
<li class="dir"><a href="../gallery/index.html">Gallery</a></li>
<li class="dir"><a href="../emu/index.html">VICE emu of CS/A65</a></li>
<li class="link"><a href="../../cbmhw/c64csa/index.html">C64 CS/A adapter</a></li>
</ul>
<li class="dir"><a href="../../hwinfo/index.html">ICs and Standards Info</a></li>
<li class="separator">Software</li>
<li class="dir"><a href="../../osa/index.html">GeckOS operating system</a></li>
<li class="dir"><a href="../../lib6502/index.html">Lib6502 standard</a></li>
<li class="dir"><a href="../../o65/index.html">O65 file format</a></li>
<li class="dir"><a href="../../misc/index.html">Misc software</a></li>
<li class="separator">Knowledge Bits</li>
<li class="dir"><a href="../../icap/index.html">Articles</a></li>
<li class="separator">Misc</li>
<li class="file"><a href="../../contact.html">Contact</a></li>
</ul>
</ul>
</DIV>
<DIV ID="content">
<H1>CS/A65 PETCPU</H1>
<P>This board implements a 6502 processor board for the 
		CS/A65 bus system. It in addition to the 
		<a href="../cpu65b/index.html">CPU65b</a> board it allows
		to use (small parts) of the memory area of the CS/A65 bus.
		This can be utilized to access the video board to implement
		a video interface.
	</P>
<h3>News:</h3>
<ul class="news"><li>
<small>2006-12-09</small>
			Tested the RS232 interface and added a test driver 
			for it.
		</li></ul>
<DIV ID="toc">
<H2>Table of content</H2>
<dir>
<li><a href="#driver">Driver</a></li>
<dir><li><a href="#driver1">RS232 test</a></li></dir>
<li><a href="#boards">Board Revisions</a></li>
<dir>
<li>
<a href="#board1">1.1B</a> (untested)</li>
<li>
<a href="#board2">1.1A</a> (prototype with bugs)</li>
</dir>
</dir>
</DIV>
<H2><A NAME="driver">Driver</A></H2>
<H3><A NAME="driver1">RS232 test</A></H3>
<P>
<p>
                        This file includes a small test program for the
			RS232 interface. It opens the RS232 interface with
			9600 baud, and mirrors everything it receives from
			RS232 back to RS232.
			Additionally it sends everything typed in on the
			screen to the RS232.
			The screen also works as buffer area, so it is easy
			to monitor the progress. It can be loaded into a
			PET fat40 setup
                        (just 'dL"petuart"' :-) and RUN.
                        </p>
                </P>
<TABLE class="files">
<TR>
<TD><IMG SRC="../../imgs/file_driver.gif" ALT="driver"></TD>
<TD>
<A HREF="petuart.tar.gz">petuart.tar.gz</A></TD>
</TR>
</TABLE>
<H2><A NAME="boards">Board revisions</A></H2>
<H3><A NAME="board1">Version: 1.1B</A></H3>
<P>Status: untested</P>
<H4>Notes</H4>
<TABLE class="notes">
<TR>
<TD class="noteicon"><IMG SRC="../../imgs/note_warn.gif" ALT="warn"></TD>
<TD>
			This schematics has been tested by modifying the
			1.1A board version, but the layout itself has not
			been tested. It mainly adds a driver for the Phi2
			signal, and has been tested with the MOS6502 (1MHz), 
			Rockwell R6502AD and R65C02P4 (1 and 2MHz each). 
		</TD>
</TR>
<TR>
<TD class="noteicon"><IMG SRC="../../imgs/note_msg.gif" ALT="msg"></TD>
<TD>
			This table describes the jumper settings available on
			the board
                        <table border="1" class="jumpers">
<tr>
<th>Jumper</th>
<th>Description</th>
<th>Setting</th>
<th>Meaning</th>
<th>VC1581 setting</th>
<th>PETCPU setting</th>
</tr>

<tr>
<td rowspan="2">JP1</td>
<td rowspan="2">1/2MHz system clock switch</td>
<td>1-2</td>
<td>2 MHz</td>
<td>*</td>
<td>8032 (experimental)</td>
</tr>
<tr>
<td>2-3</td>
<td>1MHz</td>
<td></td>
<td>4032</td>
</tr>

<tr>
<td rowspan="2">JP2</td>
<td rowspan="2">I/O size selector A8</td>
<td>1-2</td>
<td>A8=0</td>
<td rowspan="6">don't care</td>
</tr>
<tr>
<td>2-3</td>
<td>A8 don't care</td>
<td>*</td>
</tr>

<tr>
<td rowspan="2">JP3</td>
<td rowspan="2">I/O size selector A9</td>
<td>1-2</td>
<td>A9=0</td>
</tr>
<tr>
<td>2-3</td>
<td>A9 don't care</td>
<td>*</td>
</tr>

<tr>
<td rowspan="2">JP4</td>
<td rowspan="2">I/O size selector A10</td>
<td>1-2</td>
<td>A10=0</td>
</tr>
<tr>
<td>2-3</td>
<td>A10 don't care</td>
<td>*</td>
</tr>

<tr>
<td rowspan="2">JP5</td>
<td rowspan="6">ROM size selection. JP5,6, and 7 select the lowest address where ROM is selected (from 64k down). A15 is always high</td>
<td>1-2</td>
<td>A14 high</td>
</tr>
<tr>
<td>2-3</td>
<td>A14 low</td>
<td>*</td>
<td>*</td>
</tr>
<tr>
<td rowspan="2">JP6</td>
<td>1-2</td>
<td>A13 high</td>
<td></td>
<td>*</td>
</tr>
<tr>
<td>2-3</td>
<td>A13 low</td>
<td>*</td>
</tr>
<tr>
<td rowspan="2">JP7</td>
<td>1-2</td>
<td>A12 high</td>
<td></td>
<td>*</td>
</tr>
<tr>
<td>2-3</td>
<td>A12 low</td>
<td>*</td>
</tr>

<tr>
<td rowspan="2">JP8</td>
<td rowspan="2">External (bus) memory A17</td>
<td>1-2</td>
<td>+128k</td>
<td>*</td>
</tr>
<tr>
<td>2-3</td>
<td>+0k</td>
<td></td>
<td>*</td>
</tr>

<tr>
<td rowspan="2">JP9</td>
<td rowspan="2">External (bus) memory A16</td>
<td>1-2</td>
<td>+0k</td>
</tr>
<tr>
<td>2-3</td>
<td>+64k</td>
<td>*</td>
<td>*</td>
</tr>

<tr>
<td rowspan="2">JP14</td>
<td rowspan="2">I/O select enable</td>
<td>1-2</td>
<td>/IOSEL enabled</td>
<td></td>
<td>*</td>
</tr>
<tr>
<td>2-3</td>
<td>/IOSEL disabled</td>
<td>*</td>
</tr>

<tr>
<td rowspan="2">JP15</td>
<td rowspan="6">RAM size selection. JP15,16, and 17 select the highest address where RAM is selected (from 0k up). A15 is always low</td>
<td>1-2</td>
<td>A14 high</td>
<td></td>
<td>*</td>
</tr>
<tr>
<td>2-3</td>
<td>A14 low</td>
<td>*</td>
</tr>
<tr>
<td rowspan="2">JP16</td>
<td>1-2</td>
<td>A13 high</td>
<td>*</td>
<td>*</td>
</tr>
<tr>
<td>2-3</td>
<td>A13 low</td>
</tr>
<tr>
<td rowspan="2">JP17</td>
<td>1-2</td>
<td>A12 high</td>
<td>*</td>
<td>*</td>
</tr>
<tr>
<td>2-3</td>
<td>A12 low</td>
</tr>

<tr>
<td rowspan="2">JP18</td>
<td rowspan="2">External (bus) memory A15 invert</td>
<td>1-2</td>
<td>invert A15 on bus</td>
<td></td>
<td>*</td>
</tr>
<tr>
<td>2-3</td>
<td>do not invert A15</td>
<td>*</td>
</tr>

<tr>
<td rowspan="2">JP19</td>
<td rowspan="2">External (bus) memory A12 invert</td>
<td>1-2</td>
<td>invert A12 on bus</td>
<td></td>
<td>*</td>
</tr>
<tr>
<td>2-3</td>
<td>do not invert A12</td>
<td>*</td>
</tr>

<tr>
<td rowspan="2">JP20</td>
<td rowspan="2">8/32k RAM switch</td>
<td>1-2</td>
<td>8k RAM (6264)</td>
</tr>
<tr>
<td>2-3</td>
<td>32k RAM (62256)</td>
<td>*</td>
<td>*</td>
</tr>

<tr>
<td rowspan="2">JP21</td>
<td rowspan="2">Enable on-board RAM</td>
<td>1-2</td>
<td>disable on-board RAM (use bus memory only)</td>
<td></td>
<td rowspan="2">depends on whether you have on-board RAM</td>
</tr>
<tr>
<td>2-3</td>
<td>enable on-board RAM, use bus memory only above address set with JP15/16/17.</td>
<td>*</td>
</tr>

<tr>
<td rowspan="3">JP22</td>
<td rowspan="3">ROM address A18</td>
<td>1-2</td>
<td>0</td>
<td rowspan="12" colspan="2">depends on the ROM size and where the ROM content is in the ROM IC. For example I have a 64k ROM, and the PET ROM at $0000-$7fff, and the VC1581 ROM at $8000-$ffff. This results in these jumper settings:
<table>
<tr>
<td></td>
<td>JP22</td>
<td>JP23</td>
<td>JP24</td>
<td>JP25</td>
</tr>
<tr>
<td>PET 4032</td>
<td>1-2</td>
<td>5-6</td>
<td>1-2</td>
<td>1-2</td>
</tr>
<tr>
<td>VC1581</td>
<td>1-2</td>
<td>5-6</td>
<td>1-2</td>
<td>5-6</td>
</tr>
</table>
</td>
</tr>
<tr>
<td>3-4</td>
<td>Control port D3</td>
</tr>
<tr>
<td>5-6</td>
<td>1</td>
</tr>

<tr>
<td rowspan="3">JP23</td>
<td rowspan="3">ROM address A17</td>
<td>1-2</td>
<td>0</td>
</tr>
<tr>
<td>3-4</td>
<td>Control port D2</td>
</tr>
<tr>
<td>5-6</td>
<td>1</td>
</tr>

<tr>
<td rowspan="3">JP24</td>
<td rowspan="3">ROM address A16</td>
<td>1-2</td>
<td>0</td>
</tr>
<tr>
<td>3-4</td>
<td>Control port D1</td>
</tr>
<tr>
<td>5-6</td>
<td>1</td>
</tr>

<tr>
<td rowspan="3">JP25</td>
<td rowspan="3">ROM address A15</td>
<td>1-2</td>
<td>0</td>
</tr>
<tr>
<td>3-4</td>
<td>Control port D0</td>
</tr>
<tr>
<td>5-6</td>
<td>1</td>
</tr>

</table>
		</TD>
</TR>
</TABLE>
<H4>Files</H4>
<TABLE class="files">
<TR>
<TD><IMG SRC="../../imgs/file_schem.gif" ALT="schem"></TD>
<TD>
<A HREF="csa_petcpu_v1.1b.sch">csa_petcpu_v1.1b.sch</A></TD>
</TR>
<TR>
<TD><IMG SRC="../../imgs/file_schem.gif" ALT="schem"></TD>
<TD>
<A HREF="csa_petcpu_v1.1b-sch.png">csa_petcpu_v1.1b-sch.png</A></TD>
</TR>
<TR>
<TD><IMG SRC="../../imgs/file_layout.gif" ALT="layout"></TD>
<TD>
<A HREF="csa_petcpu_v1.1b.brd">csa_petcpu_v1.1b.brd</A></TD>
</TR>
<TR>
<TD><IMG SRC="../../imgs/file_layout.gif" ALT="layout"></TD>
<TD>
<A HREF="csa_petcpu_v1.1b-lay.png">csa_petcpu_v1.1b-lay.png</A></TD>
</TR>
<TR>
<TD><IMG SRC="../../imgs/file_desc.gif" ALT="desc"></TD>
<TD>
<A HREF="csa_petcpu_v1.1b-desc.txt">csa_petcpu_v1.1b-desc.txt</A></TD>
</TR>
</TABLE>
<H3><A NAME="board2">Version: 1.1A</A></H3>
<P>Status: prototype with bugs</P>
<H4>Notes</H4>
<TABLE class="notes">
<TR>
<TD class="noteicon"><IMG SRC="../../imgs/note_warn.gif" ALT="warn"></TD>
<TD>
			This board has been tested and I found a severe bug
			in the timing in combination with the NMOS 6502: 
			the NMOS 6502 can not drive the Phi2 signal with
			sufficient power on the bus, so the board works with 
			the CMOS 6502 version only. Please see the 1.1B
			version for a comparison.
		</TD>
</TR>
</TABLE>
<H4>Files</H4>
<TABLE class="files">
<TR>
<TD><IMG SRC="../../imgs/file_schem.gif" ALT="schem"></TD>
<TD>
<A HREF="csa_petcpu_v1.1a.sch">csa_petcpu_v1.1a.sch</A></TD>
</TR>
<TR>
<TD><IMG SRC="../../imgs/file_schem.gif" ALT="schem"></TD>
<TD>
<A HREF="csa_petcpu_v1.1a-sch.png">csa_petcpu_v1.1a-sch.png</A></TD>
</TR>
<TR>
<TD><IMG SRC="../../imgs/file_layout.gif" ALT="layout"></TD>
<TD>
<A HREF="csa_petcpu_v1.1a.brd">csa_petcpu_v1.1a.brd</A></TD>
</TR>
<TR>
<TD><IMG SRC="../../imgs/file_layout.gif" ALT="layout"></TD>
<TD>
<A HREF="csa_petcpu_v1.1a-lay.png">csa_petcpu_v1.1a-lay.png</A></TD>
</TR>
<TR>
<TD><IMG SRC="../../imgs/file_photo.gif" ALT="photo"></TD>
<TD>
<A HREF="csa_petcpu_v1.1a.jpg">csa_petcpu_v1.1a.jpg</A>(There are two more ICs underneath the UART)</TD>
</TR>
</TABLE>
<DIV ID="footer">
<P>Last modified: 2006-12-09.</P>
<p>Return to <a href="../../index.html">Homepage</a></p>

</DIV>
</DIV>
</BODY>
</HTML>
