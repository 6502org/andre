<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Frameset//EN"> 
<html><head><base target="_top">
<meta name="author"  content="Andr&eacute; Fachat">
<meta http-equiv="content-type" content="text/html; charset=iso8859-1">
<meta name="keywords" content="6502,hardware,8 bit,schematics"> <meta name="description" content="6502 computer with MMU">
<title>CS/A65 and Gecko computers</title>
<link rev=made href="mailto:afachat@gmx.de">
<LINK REL="stylesheet" TYPE="text/css" HREF="../style.css">
</head>
<body>
<DIV ID="menu">
<ul><li class=homepage><a href=../index.html>Homepage</a></li>
<ul class="menu0" >
<li class="separator">Commodore</li>
<li class="dir"><a href="../petindex/index.html">CBM PET info</a></li>
<li class="dir"><a href="../cbmhw/index.html">CBM hardware and mods</a></li>
<li class="separator">Hardware</li>
<li class="dir"><a href="../csa/index.html">CS/A65 and Gecko computer</a></li>
<ul class="menu1" >
<li class="separator">Specifications</li>
<li class="file"><a href="bus.html">Bus V1.0</a></li>
<li class="file"><a href="bus-1.1.html">Bus V1.1</a></li>
<li class="separator">Main boards</li>
<li class="dir"><a href="cpu/index.html">CS/A65 CPU</a></li>
<li class="dir"><a href="bios/index.html">CS/A65 BIOS </a></li>
<li class="dir"><a href="petcpu/index.html">64k PET CPU</a></li>
<li class="dir"><a href="gecko/index.html">Gecko</a></li>
<li class="separator">I/O boards</li>
<li class="dir"><a href="vdc/index.html">Video board</a></li>
<li class="dir"><a href="petio/index.html">CBM PET I/O</a></li>
<li class="dir"><a href="shug/index.html">PC floppy</a></li>
<li class="dir"><a href="duart/index.html">Double UART (RS232)</a></li>
<li class="dir"><a href="scsi/index.html">SCSI board</a></li>
<li class="separator">Special purpose</li>
<li class="dir"><a href="copro/index.html">Coprocessor board</a></li>
<li class="dir"><a href="cpuemu/index.html">Emulate a 6502</a></li>
<li class="dir"><a href="keyemu/index.html">Emulate a keyboard</a></li>
<li class="separator">Deprecated boards</li>
<li class="dir"><a href="cpu65b/index.html">64k CPU</a></li>
<li class="dir"><a href="key/index.html">Keyboard and RS232</a></li>
<li class="dir"><a href="iec/index.html">IEEE488 and CBM IEC</a></li>
<li class="separator">Other links</li>
<li class="dir"><a href="gallery/index.html">Gallery</a></li>
<li class="dir"><a href="emu/index.html">VICE emu of CS/A65</a></li>
<li class="link"><a href="../cbmhw/c64csa/index.html">C64 CS/A adapter</a></li>
</ul>
<li class="dir"><a href="../hwinfo/index.html">Hardware info</a></li>
<li class="separator">Software</li>
<li class="dir"><a href="../osa/index.html">GeckOS operating system</a></li>
<li class="dir"><a href="../lib6502/index.html">Lib6502 standard</a></li>
<li class="dir"><a href="../o65/index.html">O65 file format</a></li>
<li class="dir"><a href="../misc/index.html">Misc software</a></li>
</ul>
</ul>
</DIV>
<DIV ID="content">
<h1>CS/A65 and Gecko Computer</h1>
<h2>(C) 1989-1999 A. Fachat</h2>
<hr>
The computers presented here are actually a line of PCB boards that
can be plugged into a passive motherboard. 
A special place has the <a href="gecko/index.html">Gecko</a>
that in itself is a complete, single-board computer.
<p>
<div class=disclaimer>
<hr class=disclaimer>
<H1 class=disclaimer>Disclaimer</H1>

<P class=disclaimer>Before you go on, you should know that all this stuff
comes with <strong>no warranty at all </strong>. Of course this hardware is <strong>not</strong>
to be used in any important or even life-critical systems. 
The hardware schematics and software
are provided 'as is', without warranty of any kind. The entire risk as
to the quality and performance of the hard- and software is with you. Should
the hard- or software prove defective, you assume the cost of all necessary
servicing, repair or correction.</P>
<hr class=disclaimer>
</div>

<H2>Distribution</H2>
<font size="+1">
Warning: This computer system has two parts when it comes to distribution
<p>
The CPU boards and the memory boards are free for 
<strong>NON-COMMERCIAL</strong>
purposes only! If you want to do something useful with it, please
contact me. Also if you like to produce PCBs, or want to earn money
with it, please contact me first.
For non-commercial purposes the terms of the GNU public license apply.
<p>
The <a href="#ioboards">I/O</a> and emulator boards
are now free. They
can be used and distributed under the terms of the 
<a href="../osa/COPYING">GNU Public License</a>.
</p><p>
The <a href="bus-1.1.html">bus design</a> is completely in the public domain.
It can be used as long as any changes to the original specs are marked as such
(to not let incompatibilites slip in unnoticed).
<p> 
The disclaimers in section 11. and 12. of the GNU public license apply
in both cases.
</font></p>
<hr>
<h2>General Considerations</h2>
<p>
Currently the system is based on the 6502 processor, although other
configurations (65816, 6809) should be possible. The software I use
for this systems is homemade and can be found on my
<a href="../osa/index.html">OS/A65</a> page. There are drivers and programs
for most of the hardware described below available.
</p>
<!---<p>
If you are able to read german, there is a (rather old, sorry for my bad
german I wrote then) documentation file that describes the hardware of the 
CS/A65 as well as the OS/A65 operating system. You can have it as 
gzipped postscript, <a href="../osa/v1.3/csa1.ps.gz">csa1.ps.gz</a>.
</p>
--->
<p>
The bus used is the synchronous bus used in the 6502/6800/6809 CPU bus
interfaces. It has some additional lines, though...
A description of the bus interface is in 
<a href="bus.html">bus.html</a>.
</p><p>
All ICs are standard ICs. However, getting documentation for the 8bit
stuff is getting more and more difficult. But there is an archive in
Finland, <a href="http://www.zimmers.net/anonftp/pub/cbm/documents/chipdata/index.html">http://www.zimmers.net/anonftp/pub/cbm/documents/chipdata/index.html</a>
that has most of the stuff. However there is a separate 
<a href="ls610/index.html">74LS610 page</a>.
</p><p>
In the schematics there are no decoupling capacitors (or what are they called?)
that should be from Vcc to GND for each IC. Sometimes they are mentioned
in the parts list, though. Also there is no 100uF capacitor at the CS/A
bus connector between Vcc and GND, to buffer the supply voltage for the 
board. These are always implict, so I didn't bother drawing them.
But you should use them anyway.
</p><p>
Most of the boards, esp. the I/O boards, are pretty straightforward.
That's why I concentrate on the special I/O and even then I will only go into
detail when necessary. You should have some basic understanding of
6502 hardware design.
</p><p>
In all mentionings I have just written 6502 or 6522 or 6821. These and
other chips exist in different flavors, and it is only save to assume 
a that they are specified for 1MHz bus frequency only.
Check if you want a 2MHz system and use the appropriate faster models.
</p><p>
Last but not least one remark. Most of the stuff has been designed
in 1989, which means it is pretty old. Nowadays I would do some things
differently, the Reset circuitry is one example. 
Only recently I have transcripted the schematics from my hand-drawing to 
xfig format. Although I used quite some time to find any remaining error, 
be warned, there still may be errors. 
And my hand-drawing is still the authoritative source.
</p>
<h2>Software</h2>
<p>
The software used is the <a href="../osa/index.html">GeckOS/A65</a> 
operating system. It features the handling of the MMU, serial devices,
video output, floppy disk drives, and the newest versions even feature
TCP/SLIP (beta) and SCSI (alpha) support.
</p>
<p>
Some of the software development took place on a modified 
VICE emulator, that now emulates a subset of the CS/A65 hardware.
Please check it out at its <a href="emu/index.html">site</a>.
</p>
<h2>CPU boards</h2>
<p>
Those boards are the heart of the CS/A65 and Gecko computers. They are
free for non-commercial purposes only. For non-commercial purposes
the terms of the GNU public license apply.
<ul>
<p><li>The MMU CPU 6502 board is the main board, that makes full use of the
bus features. It provides 20 address lines, allowing for 1 MByte of main
memory. This is done by the means of a 74ls610 MMU that maps 
the upper 4 CPU address lines to 8 new address lines.
The register read/write interface of the MMU is put on the
bus side of the CPU-bus interface, such that an external CPU can
read and/or modify the contents of the MMU registers.
No memory is provided on this CPU board.
A newer version of the board has the MMU mapped twice within the
I/O area. Writing to the second (non-standard) location,
the mapping is changed as normal, only the mapped pages
are write-protected! But the schematics are only for the normal
version, as the other one is pretty experimental...
<p> schematics <a href="cpu65.ps.gz">cpu65.ps.gz</a> or
<a href="cpu65.png">cpu65.png</a>, <a href="cpu65desc.txt">description</a>, 
<a href="cpu65parts.txt">parts list</a>.

<p><li>There is a "diff" to the CPU board described above. It uses the
MMU to map pages as write-protected! You can choose if a page is write-protected
by writing to another MMU image or to the original one.
<p> schematics <a href="cpu65wp.ps.gz">cpu65wp.ps.gz</a> or
<a href="cpu65wp.png">cpu65wp.png</a>, <a href="cpu65wpdesc.txt">description</a>, 
parts list.

<p><li>The BIOS board complements the MMU CPU board in that it provides
some RAM, ROM, and basic I/O (a RS232 interface, that is).
It also has a special I/O port that allows the CPU to read the IRQ line,
or the state of a pushbutton. Also a 50 Hz interrupt is provided that
can be switched on and off with this port, as well as a system LED.
The I/O mapping can be changed from the BIOS port as well.
The older version used a 6551 ACIA for the RS232 interface, but now I 
use a 16550 UART (with FIFO).
<p> schematics <a href="csabios2.ps.gz">csabios2.ps.gz</a>
or <a href="csabios2.png">csabios2.png</a>, 
<a href="csabios2desc.txt">description</a>, 
<a href="csabios2parts.txt">parts list</a>.

<p><li>The CPU65B board is another CPU board, that lacks the feature
of an MMU to extend the address space. Therefore it can only address
the memory provided on the CPU board itself. This means the 
memory boards below cannot be used, but the I/O boards can.
But it is possible to address the I/O area on the standard CS/A
bus connector, using the I/O boards listed below.
<p> Another version of this board, with some I/O already included
can be found as the <a href="gecko/index.html">Gecko</a> version of this
board. The parts are described there too, so I don't have a parts list here.
<p> schematics <a href="cpu65b.ps.gz">cpu65b.ps.gz</a>
or <a href="cpu65b.png">cpu65b.png</a>, 
<a href="cpu65bdesc.txt">description</a>, parts list.

<p><li>The <a href="gecko/index.html">Gecko</a> board is an expansion of
the CPU65B board. It already includes an RS232 interface, a serial IEC
bus (to talk to CBM disk drives, or to be used as CBM disk drive for 
example), a keyboard interface and an infrared sender (so you can 
control your stereo for example). Still it has the CS/A bus interface
such that it can be extended with any of the I/O boards below.
In the slightly extended version it can even be used as an I/O card
in the CS/A computer itself (removing the CPU and setting some jumpers).
More info is on its own <a href="gecko/index.html">Gecko page</a>.

<p><li>The <font color="#ff0000">COPRO65</font> board provides a complete 6502 computer as secondary
processor on the CS/A bus. On one side it plugs into the CS/A main bus, 
on the other side it has a connector for any CS/A I/O card. Thus you 
could use the coprocessor as SCSI subprocessor (with the CS/A-SCSI board)
or as a TCP/IP stack processor (with a serial board like CS/A-DUART) or
whatever you can think of. 
Communication with the host processor is done via 64k of shared memory.
Either it's 32k RAM plus 32k ROM, or even 64k RAM that can completely be 
loaded from the host processor. The coprocessor can be controlled 
(interrupted, stopped, reset) by a control port accessible from both
processors. For more please see the description.
<p>WARNING: This schematic has not been implemented. In fact I have no
idea when I'm going to have the time to do so. So this might well
be really buggy!
<p>NOTE: This has indeed proven to be buggy. Wait for an updated version (hopefully) soon.</p>
<p>The schematics are only available as scanned hand-drawings. If 
someone can send me the etched boards if I send the
eagle(tm) schematics (I think the free version I have only restricts the
board size, not the schematics size) I can put it in there, but not else, sorry.
<p> schematics part 1 as <a href="csacopro1.tiff.gz">csacopro1.tiff.gz</a>
and part 2 as <a href="csacopro2.tiff.gz">csacopro2.tiff.gz</a>,
<a href="csacoprodesc.txt">description</a>, 
<a href="csacoproparts.txt">parts list</a>.
</ul>

<h2>Memory boards</h2>
These boards provide memory for the CPU board with memory management,
as well as I/O (sometimes). They are free for non-commercial purposes only.
For non-commercial purposes the terms of the GNU public license apply.
<ul>
<p><li>The video board has 64kByte of dynamic RAM, and a R6545 or MC6845
CRTC video controller to display 40 or 80 cols (depending on system
speed) with 25 lines on a TV set.
The 6545 I/O location is the same as in the PET, and information
on the chip can be found on <a href="http://www.zimmers.net/anonftp/pub/cbm/documents/chipdata/index.html">the commodore archives</a>.
The card can only be used with a MMU CPU board, that uses the 
<code>/MEMSEL</code> line. 
<p> schematics <a href="csavdc.ps.gz">csavdc.ps.gz</a> or
<a href="csavdc.png">csavdc.png</a>, 
<a href="csavdcdesc.txt">description</a>, <a href="csavdcparts.txt">parts list</a>.
</ul>

<h2><a name="ioboards">I/O boards</a></h2>
Many of the I/O boards are designed to be at least to some extent
Commodore PET compatible (well, they managed to spread the IEEE488
interface across 3 ICs, which was not nice for building it on PCBs
like these, why I moved some of the lines around...)
These boards can be used under the terms of the GNU public license.
<ul>
<p><li>The SCSI board has a heavily modified version of an old SASI
interface from the german elektor magazin (around '88 or so).
It has been reworked to get more SCSI-II compliance, but it is still
not there. It works, however, with my Seagate ST1096N harddisk :-)
The driver package linked below contains the schematics as well as a
simple driver (read/write blocks, scan for PC-style partitions and
use them) for the GeckOS operating system as well as the C64 
(see the <a href="../scsi/index.html">SCSI64 adapter</a>)!
The <strong>new</strong> driver handles PC extended partitions better than
before.
<p> schematics <a href="csascsi1.ps.gz">csascsi1.ps.gz</a>
or <a href="csascsi1.png">csascsi1.png</a>, 
<a href="csascsi1desc.txt">description</a>, 
<a href="csascsi1parts.txt">parts list</a>.
The most current drivers can be found in the latest 
<a href="../osa/index.html">GeckOS/A65</a> version. A description 
and more info on the SCSI drivers can be found on the 
<a href="../scsi/index.html">SCSI64</a> pages.

<p><li>The Keyboard card has a standard PET keyboard port, 
as well as it is able to use a C64 keyboard. In addition to that,
it has an ACIA 6551 for a serial RS232 interface.
<p> schematics <a href="csakey.ps.gz">csakey.ps.gz</a>
or <a href="csakey.png">csakey.png</a>, 
<a href="csakeydesc.txt">description</a>, <a href="csakeyparts.txt">parts list</a>.

<p><li>The IEEE488 board provides an IEEE488 parallel interface as
well as a Commodore serial IEC businterface as used on the VIC20 and C64.
<p> schematics <a href="csaiec.ps.gz">csaiec.ps.gz</a> or
<a href="csaiec.png">csaiec.png</a>, 
<a href="csaiecdesc.txt">description</a>, <a href="csaiecparts.txt">parts list</a>.

<p><li>A floppy controller board uses the WD1770 to interface
with a standard shugart floppy disk drive (as used in the PCs). It can
actually be overclocked to even handle 1.44 MByte disks. There also is 
an 8 bit parallel interface on this board.
<p> schematics <a href="csashug.ps.gz">csashug.ps.gz</a> or
<a href="csashug.png">csashug.png</a>, <a href="csashugdesc.txt">description</a>, <a href="csashugparts.txt">parts list</a>.

<p><li>A Dual RS232 board uses two 16550A for the two interfaces. I know that 
there ae things like the 16552(?) with two interfaces in one chip,
but when I needed it, I had the parts at home already...
<p> schematics <a href="csaduart.ps.gz">csaduart.ps.gz</a>
or <a href="csaduart.png">csaduart.png</a>, 
<a href="csaduartdesc.txt">description</a>, <a href="csaduartparts.txt">parts list</a>.
</ul>

<h2>Emulation boards</h2>
Special interest in this computer system is on the topic of emulation. 
The larger address space and the MMU allows for mapping of other
computers memory into the main memory map.
These boards can be used under the terms of the GNU public license.
<ul>
<p><li>The CPU emulation board is a special board that drives
a direct 40 pin connection to the 6502 socket of other computers. 
The address space of the emulated 6502 is mapped within the 1 MByte
address space of the MMU system. For example I tested new VC1541 ROMs
by replacing the 6502 in the VC1541 disk drive with the cable to this
board, mapped I/O and RAM in, and only replaced the ROM with some RAM
images of a patched up ROM, located somewhere in the CS/A65 computer.
<p> schematics <a href="csaemu.ps.gz">csaemu.ps.gz</a> or
<a href="csaemu.png">csaemu.png</a>, 
<a href="csaemudesc.txt">description</a>, parts list.

<p><li>The keyboard emulator is actually a double 256 byte 
dual-port memory, where one port - the CPU side - is synchronous and
read/write, while the second port - the emulation port - is
asynchronous and read-only. I.e. the CPU has 256 byte mapped into the
I/O area, which it can write to. The external connector is fitted to the
keyboard connector on a C64 board for example. The 8 selection signals
are used as memory addresses, and the value in this location is put
to the lines the C64 is reading in response.
<p> schematics <a href="csakeyemu.ps.gz">csakeyemu.ps.gz</a> or
<a href="csakeyemu.png">csakeyemu.png</a>, 
<a href="csakeyemudesc.txt">description</a>, parts list.
</ul>

<hr><p class=endofpage>
Contents last modified 28 June 1999 |
Go to <a href="../index.html">Homepage</a> 
</p>
</DIV>
</body>
</html>
