<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
<meta name="author" content="">

<meta name="description" content="">
<meta name="keywords" content="CSA65 6502 UART">
<link rev="made" href="mailto:">
<link rel="stylesheet" title="Default" type="text/css" href="../../style2-min.css">
<title>CS/A65 DUART</title></head>
<body><div id="mainbox"><a name="top"></a><div id="topsearch"><form method="get" action="http://www.google.com/search" target="_blank" autocomplete="off"><input alt="search" name="q" size="10" maxlength="255" type="text"><input class="advbutton" value="Search site" type="submit"><div id="srchprov">(by Google)</div><input name="sitesearch" value="www.6502.org/users/andre" type="hidden"></form><div id="topfind"><div id="topprogress"></div></div></div><div id="menubox">


<div id="menu1" class="mclose">
<div id="twist1" class="twisty"></div>
<div class="hdrtxt"><a href="../../index.html">Home&nbsp;&gt;</a></div>
<ul class="nav1">
<li>
<ul class="nav2">
<li class="navhdr"><a href="../../index.html">Home</a></li>
<li><a href="../../contact.html">Contact</a></li>
<li><a href="../../design.html">Web design</a></li>
<div class="nend2"></div>
</ul>
</li>
<div class="nend1"></div>
</ul>
<ul class="nav1" >
<li><span>Hardware</span></li>
<li><ul class="nav2" >
<li><a href="../../65k/index.html">The 65k Project</a>
</li>
<li><a href="../../pet816/index.html">PET816 Accelerator</a>
</li>
<li><a href="../../csa/index.html">CS/A65</a>
</li>
<li><a href="../../cbmhw/index.html">CBM mods</a>
</li>
<li><a href="../../spi65b/index.html">SPI65B</a>
</li>
<li><a href="../../mischw/index.html">Other hardware</a>
</li>
<div class="nend2"></div>
</ul>
</li>
<div class="nend1"></div>
</ul>
<ul class="nav1" >
<li><span>Software</span></li>
<li><ul class="nav2" >
<li><a href="../../osa/index.html">GeckOS</a>
</li>
<li><a href="../../lib6502/index.html">lib6502 </a>
</li>
<li><a href="../../o65/index.html">o65</a>
</li>
<li><a href="../../usb65/index.html">usb65</a>
</li>
<li><a href="../../xd2031/index.html">XD2031</a>
</li>
<li><a href="../../misc/index.html">Misc</a>
</li>
<div class="nend2"></div>
</ul>
</li>
<div class="nend1"></div>
</ul>
<ul class="nav1" >
<li><span>Library</span></li>
<li><ul class="nav2" >
<li><a href="../../petindex/index.html">PETindex</a>
</li>
<li><a href="../../petindex/drives/index.html">PET drives</a>
</li>
<li><a href="../../adv65/index.html">Advanced 6502</a>
</li>
<li><a href="../../hwinfo/index.html">ICs and Standards</a>
</li>
<div class="nend2"></div>
</ul>
</li>
<div class="nend1"></div>
</ul>
<ul class="nav1" >
<li><span>Knowledge Bits</span></li>
<li><ul class="nav2" >
<li><a href="../../icapos/index.html">Computer/OS Architecture</a>
</li>
<li><a href="../../icaphw/index.html">6502 Hardware Bits</a>
</li>
<li><a href="../../emulation/index.html">Emulation</a>
</li>
</ul>
<div class="nend2"></div>
</li>
<div class="nend1"></div>
</ul>
</div>
<div id="menu2" class="%open%">
<div id="twist2" class="twisty"></div>
<div class="hdrtxt"><a href="../index.html">CS/A Computer&nbsp;&gt;</a></div>
<ul class="nav1">
<li>
<ul class="nav2">
<li class="navhdr"><a href="../index.html">CS/A Computer</a></li>
<li><a href="../memmap.html">Memory Map</a></li>
<div class="nend2"></div>
</ul>
</li>
<div class="nend1"></div>
</ul>
<ul class="nav1" >
<li><span>Specifications</span></li>
<li><ul class="nav2" >
<li><a href="../bus.html">Bus V1.0</a></li>
<li><a href="../bus-1.1.html">Bus V1.1</a></li>
<div class="nend2"></div>
</ul>
</li>
<li><span>Main boards</span></li>
<li><ul class="nav2" >
<li><a href="../cpu/index.html">CS/A65 CPU</a>
</li>
<li><a href="../bios/index.html">CS/A65 BIOS </a>
</li>
<li><a href="../cpu816v2/index.html">65816 CPU V2</a>
</li>
<li><a href="../petcpu/index.html">64k PET CPU</a>
</li>
<li><a href="../gecko/index.html">Gecko</a>
</li>
<li><a href="../auxcpu/index.html">Auxiliary CPU</a>
</li>
<li><a href="../pwr/index.html">Power Supply</a>
</li>
<li><a href="../term/index.html">Bus terminators</a>
</li>
<div class="nend2"></div>
</ul>
</li>
<div class="nend1"></div>
</ul>
<ul class="nav1" >
<li><span>I/O boards</span></li>
<li><ul class="nav2" >
<li><a href="../vdc/index.html">Video board</a>
</li>
<li><a href="../petio/index.html">CBM PET I/O</a>
</li>
<li><a href="../netusb/index.html">Net/USB/SD</a>
</li>
<li><a href="../etholi/index.html">Ethernet</a>
</li>
<li><a href="../usb/index.html">USB</a>
</li>
<li><a href="../shug/index.html">PC floppy</a>
</li>
<li><a href="../drvio/index.html">DRVIO floppy and IEC</a>
</li>
<li><a href="../duart/index.html">Double UART (RS232)</a>
</li>
<li><a href="../scsi/index.html">SCSI/I2C board</a>
</li>
<li><a href="../spi/index.html">MMC/SD-Card</a>
</li>
<div class="nend2"></div>
</ul>
</li>
<div class="nend1"></div>
</ul>
<ul class="nav1" >
<li><span>Special purpose</span></li>
<li><ul class="nav2" >
<li><a href="../blitter/index.html">Block transfer</a>
</li>
<li><a href="../ramdisk/index.html">SIMM RAMDisk</a>
</li>
<li><a href="../copro/index.html">Coprocessor board</a>
</li>
<li><a href="../cpuemu/index.html">Emulate a 6502</a>
</li>
<li><a href="../keyemu/index.html">Emulate a keyboard</a>
</li>
<li><a href="../viaproto/index.html">VIA prototyping</a>
</li>
<div class="nend2"></div>
</ul>
</li>
<div class="nend1"></div>
</ul>
<ul class="nav1" >
<li><span>Deprecated boards</span></li>
<li><ul class="nav2" >
<li><a href="../cpu816/index.html">65816 CPU V1</a>
</li>
<li><a href="../cpu65b/index.html">64k CPU</a>
</li>
<li><a href="../key/index.html">Keyboard and RS232</a>
</li>
<li><a href="../iec/index.html">IEEE488 and CBM IEC</a>
</li>
<div class="nend2"></div>
</ul>
</li>
<li><span>Other links</span></li>
<li><ul class="nav2" >
<li><a href="../gallery/index.html">Gallery</a>
</li>
<li><a href="../emu/index.html">VICE emu of CS/A65</a>
</li>
<li><a href="../../cbmhw/c64csa/index.html">&gt;C64 CS/A adapter</a></li>
<li><a href="../../cbmhw/petcsa/index.html">&gt;PET CS/A adapter</a></li>
</ul>
<div class="nend2"></div>
</li>
<div class="nend1"></div>
</ul>
</div>
	</div><div id="midcol"><div class="top" id="content"><div id="minmax"></div>

<h1>CS/A65 DUART</h1>

<div class="overview">
	 This Dual RS232 board uses two 16550A for the two interfaces. I 
	know that there are ICs like the 16552(?) with two interfaces in 
	one chip, but when I needed it, I had the parts at home already...
	
</div><div class="h2"><div class="h2h"><div class="h2t">&nbsp;</div><h2><a name="news">News:</a></h2></div><div class="h2c"><ul class="news"><li><div>&nbsp;</div><small>2006-11-01</small>
                        Added driver code.
                </li></ul></div></div><div id="toc" class="h2"><div class="h2h"><div class="h2t">&nbsp;</div><h2>Table of content</h2></div><div class="h2c"><ul><li><a href="#driver">Driver</a></li><li style="list-style-type:none;"><ul><li><a href="#driver1">OS/A65 UART16550A driver</a></li></ul></li><li><a href="#boards">Board Revisions</a></li><li style="list-style-type:none;"><ul><li><a href="#board1">1.0B</a> (ok)</li><li><a href="#board2">1.0A</a> (ok)</li></ul></li></ul></div></div><div class="h2"><div class="h2h"><div class="h2t">&nbsp;</div><h2><a name="driver">Driver</a></h2></div><div class="h2c"><div class="driver"><h3><a name="driver1">OS/A65 UART16550A driver</a></h3><div class="driverdesc">The driver consists of two files. First the
			<code>uart16550.i65</code> file contains chip
			register definitions. The file <code>ser_uart.a65</code>
			is the actual driver. This actually is a driver
			for a single UART only, but it can be linked
			into the system twice to handle both UARTs.
			The OS/A65 operating system (1.x and 2.x) uses
			a single entry point for the device, with the 
			accumulator containing the command code. 
			The entry point
			is <code>prg1</code> in this case. It branches to 
			these routines for the UART: 
			<ul><li><code>devini</code> - initialize the UART</li>
			<li><code>devirq</code> - interrupt routine. This 
				routine is called on every interrupt, one device
				after the other, until the irq is handled.
				The 50Hz system interrupt is last, so this
				driver uses this feature to check whether
				a new byte can be send at <code>tx2</code>.</li>
			<li><code>others</code> checks the other commands,
				like open, close, or handshake handling.</li>
			</ul>
			Unfortunately the driver code is pretty messy, but
			works.
		</div><div class="driverfiles"><table class="files">
<tr class="R1"><td><div class="i_driver">&nbsp;</div></td>
<td><a href="ser_uart.a65">ser_uart.a65</a>(Driver code)</td>
</tr>
<tr class="R0"><td><div class="i_driver">&nbsp;</div></td>
<td><a href="uart16550.i65">uart16550.i65</a>(UART register definitions)</td>
</tr></table></div><div class="driverend"></div></div></div></div><div class="h2"><div class="h2h"><div class="h2t">&nbsp;</div><h2><a name="boards">Board revisions</a></h2></div><div class="h2c"><div class="rev"><h3><a name="board1">Version: 1.0B</a></h3>
<div class="revdesc"><p>Status: ok</p>
</div><div class="revnotes"><h4>Notes</h4><table class="notes"><tr><td class="noteicon"><div class="i_msg">&nbsp;</div></td>
<td>
			This is the initial version.
		</td></tr>
</table></div><div class="revfiles"><h4>Files</h4><table class="files">
<tr class="R1"><td><div class="i_desc">&nbsp;</div></td>
<td><a href="csaduartdesc.txt">csaduartdesc.txt</a></td>
</tr>
<tr class="R0"><td><div class="i_parts">&nbsp;</div></td>
<td><a href="csaduartparts.txt">csaduartparts.txt</a></td>
</tr>
<tr class="R1"><td><div class="i_schem">&nbsp;</div></td>
<td><a href="csaduart.ps.gz">csaduart.ps.gz</a></td>
</tr>
<tr class="R0"><td><div class="i_schem">&nbsp;</div></td>
<td><a href="csaduart.png">csaduart.png</a></td>
</tr>
<tr class="R1"><td><div class="i_schem">&nbsp;</div></td>
<td><a href="csaduart.fig">csaduart.fig</a></td>
</tr>
<tr class="R0"><td><div class="i_photo">&nbsp;</div></td>
<td><a href="csaduart.jpg">csaduart.jpg</a>(One of the UARTs is missing)</td>
</tr></table>
</div><div class="revend"></div></div><div class="rev"><h3><a name="board2">Version: 1.0A</a></h3>
<div class="revdesc"><p>Status: ok</p>
</div><div class="revnotes"><h4>Notes</h4><table class="notes"><tr><td class="noteicon"><div class="i_msg">&nbsp;</div></td>
<td>
			This is the initial version (scanned schematics).
		</td></tr>
</table></div><div class="revfiles"><h4>Files</h4><table class="files">
<tr class="R1"><td><div class="i_schem">&nbsp;</div></td>
<td><a href="csaduart-1.0A-schem.png">csaduart-1.0A-schem.png</a></td>
</tr></table>
</div><div class="revend"></div></div></div></div><div id="contentfooter"><p>Last modified: 2006-11-01.</p>
<p>Return to <a href="../../index.html">Homepage</a></p>

</div></div></div><div id="rightcol"><div class="top" id="share"><div class="tophead">share</div><div><div id="socialshareprivacy"></div></div></div><div class="top" id="twitter"><div class="tophead">follow</div><div><p>Follow my 8-bit tweets on
		            <a class="extlink" target="_blank" href="https://twitter.com/#!/search/realtime/afachat%20%238bit">Twitter</a> (In new window)</p></div></div><div class="top" id="forum"><div class="tophead">discuss</div><div><p>Discuss my site on <a class="extlink" target="_blank" href="http://forum.6502.org/viewtopic.php?t=956">this 6502.org forum thread</a></p><p>(Forum registration required to post)</p></div></div><div class="top" id="hot"><div class="tophead">hot!</div><div>
<p>Dive into the retro feeling and build yourself a <a href="../../cbmhw/ryofat40/index.html">Commodore PET replica</a></p>
<p>Need more speed? Speed up your 6502 computer with this <a href="../../pet816/index.html">10&nbsp;MHz 6502 CPU accelerator board</a></p>
<p>Interested in electronics design? Look at the <a href="../../icaphw/design.html">design lesson</a> I got from Bil Herd, the hardware designer of the C128</p>
<p>Want 64bit? - pimp the 6502 with the <a href="../../65k/index.html">65k processor design!</a></p>

		</div></div></div><div id="footer">&nbsp;</div></div><script type="text/javascript">myUp="../../";</script><script type="text/javascript" src="../../scripts2-all.js"></script><script type="text/javascript" src="../../jquery.socialshareprivacy.min.js"></script></body></html>
