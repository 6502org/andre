<?xml version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="author" content="Andr&#xE9;  Fachat" />

<meta name="description" content="6502 16bit 32bit expansion" />
<meta name="keywords" content="6502 16bit 32bit expansion" />
<link rev="made" href="mailto:afachat@gmx.de" />
<link rel="stylesheet" title="Default" type="text/css" href="../style-min.css" /><link rel="alternate stylesheet" title="Advanced" type="text/css" href="../advanced.css" />
<title>The 65k Project</title></head>
<body><div id="mainbox"><a name="top" id="top"></a><div id="leftcol"><div id="menu" class="top"><div class="tophead">navigate</div><div id="filter"><form action="#"><table id="filterbox"><tr><td><input alt="menu filter" size="8" name="filter" value="filter" type="text" /></td><td><div id="cancel" class="i_cancel"> </div></td></tr></table><table id="expcol"><tr><td><div id="expand" class="i_expand"> </div></td><td><div id="collapse" class="i_collapse"> </div></td></tr></table></form></div>
<div id="mtree">
<a id="m_homepage" href="../index.html">Homepage</a>
<ul class="menu0" >
<li class="separator">Commodore</li>
<li class="dir" id="m_petindex"><div class="i_dir">&nbsp;</div><a href="../petindex/index.html">CBM PETindex</a>
</li>
<li class="dir" id="m_cbmhw"><div class="i_dir">&nbsp;</div><a href="../cbmhw/index.html">CBM hardware and mods</a>
</li>
<li class="separator">Hardware</li>
<li class="dir" id="m_65k"><div class="i_dir">&nbsp;</div><a href="index.html" class="mcurrent">The 65k Project</a>
<ul class="menu1" >
<li><div class="i_file">&nbsp;</div><a href="features.html">Features</a></li>
<li class="separator">Specification</li>
<li><div class="i_file">&nbsp;</div><a href="specsprog.html">Programming Model</a></li>
<li class="separator">Implementation</li>
<li><div class="i_file">&nbsp;</div><a href="arch.html">Architecture Overview</a></li>
<li><div class="i_file">&nbsp;</div><a href="tests.html">Test setup</a></li>
</ul>
</li>
<li class="dir" id="m_csa"><div class="i_dir">&nbsp;</div><a href="../csa/index.html">CS/A65 Caspaer and Gecko computer</a>
</li>
<li class="dir" id="m_adv65"><div class="i_dir">&nbsp;</div><a href="../adv65/index.html">Advanced 6502</a>
</li>
<li class="dir" id="m_hwinfo"><div class="i_dir">&nbsp;</div><a href="../hwinfo/index.html">ICs and Standards Info</a>
</li>
<li class="dir" id="m_mischw"><div class="i_dir">&nbsp;</div><a href="../mischw/index.html">Other hardware (e.g. tools)</a>
</li>
<li class="separator">Software</li>
<li><div class="i_file">&nbsp;</div><a href="../osa/index.html">GeckOS operating system</a>
</li>
<li><div class="i_file">&nbsp;</div><a href="../lib6502/index.html">Lib6502 standard</a>
</li>
<li><div class="i_file">&nbsp;</div><a href="../o65/index.html">O65 file format</a>
</li>
<li><div class="i_file">&nbsp;</div><a href="../misc/index.html">Misc software</a>
</li>
<li class="separator">Knowledge Bits</li>
<li class="dir" id="m_icapos"><div class="i_dir">&nbsp;</div><a href="../icapos/index.html">Computer/OS Architecture</a>
</li>
<li class="dir" id="m_icaphw"><div class="i_dir">&nbsp;</div><a href="../icaphw/index.html">6502 Hardware Bits</a>
</li>
<li class="separator">Misc</li>
<li><div class="i_file">&nbsp;</div><a href="../contact.html">Contact</a></li>
<li><div class="i_file">&nbsp;</div><a href="../sneak.html">Sneak preview</a></li>
<li><div class="i_file">&nbsp;</div><a href="../design.html">Web design</a></li>
</ul>

</div>
		</div><div class="top" id="browser"><div class="tophead">browser</div><div>
			Site has been tested with a number of browsers and systems. Javascript required for advanced menu, but degrades gracefully without Javascript. IE6 not fully supported anymore!
			</div></div></div><div id="rightcol"><div class="top" id="google"><div class="tophead">search</div><div><form method="get" action="http://www.google.com/search" target="_blank"><input alt="search parameters" type="text" name="q" size="10" maxlength="255" value="" /><input class="advbutton" type="submit" value="Search my site" /><br />(Google, in new window)
	                        <input type="hidden" name="sitesearch" value="www.6502.org/users/andre" /></form></div></div><div class="top" id="twitter"><div class="tophead">follow</div><div>
		            Follow my 8-bit tweets on<br /><a target="_blank" href="http://search.twitter.com/search?q=&amp;ands=&amp;phrase=&amp;ors=&amp;nots=&amp;tag=8bit&amp;lang=all&amp;from=afachat&amp;to=&amp;ref=&amp;near=&amp;within=15&amp;units=mi&amp;since=&amp;until=&amp;rpp=15">Twitter</a><br /> (In new window)
		</div></div><div class="top" id="forum"><div class="tophead">discuss</div><div><p>Discuss my site on <a class="extlink" target="_blank" href="http://forum.6502.org/viewtopic.php?t=956">this 6502.org forum thread</a></p><p>(Forum registration required to post)</p></div></div><div class="top" id="hot"><div class="tophead">Hot!</div><div>
<p>Dive into the retro feeling and build yourself a <a href="../cbmhw/ryofat40/index.html">Commodore PET replica</a></p>
<p>Need more speed? Speed up your 6502 computer with this <a href="../adv65/pet816/index.html">10&nbsp;MHz 6502 CPU replacement board</a></p>
<p>Interested in electronics design? Look at the <a href="../icaphw/design.html">design lesson</a> I got from Bil Herd, the hardware designer of the C128</p>

		</div></div></div><div id="midcol"><div class="top" id="ie6warn">
You are using an old MS Internet Explorer as browser. This version is not supported anymore. Please use a 
more modern browser, like Internet Explorer 8 or later, 
<a target="_blank" class="extlink" href="http://www.firefox.com">Firefox</a>,
<a target="_blank" class="extlink" href="http://www.google.com/chrome">Google Chrome</a>, or
<a target="_blank" class="extlink" href="http://www.opera.com">Opera</a>.
</div><div class="top" id="content"><div id="minmax"></div>
<div id="breadcrumbs">
<a href="../index.html">Homepage</a>
&gt;&gt;  The 65k Project</div>
<h1>The 65k Project</h1><p class="copyright">(C)
2010- André  Fachat</p> 
<div class="overview">
	<p>
	The <em>65k project</em> is my project to expand the original 6502 processor with
	new opcodes, new and/or larger registers and other advanced features.
	I chose the <em>65k</em> name to 
        honor that the design numbers have 5 digits instead of 4, but still starting with 65 as the 6502.
	</p><p>
	Before you ask why - I am doing this purely for personal education purposes.
	I have no idea if this processor will ever be finished or even implemented, but at least
	I'll try. It may take some time though.
	</p><p>
	The current state of the project is the requirements, decision, and partly design phase.
	I.e. I am defining the goals I want to achieve with the 65k processor, what features it
	should have, how it should be done - but I am not writing any VHDL code for now.
	</p><p>
	On the <a href="features.html">features page</a> you can read about the requirements
	and features I have decided on for the 65k.
	</p><p>
	Note the separation between specification and implementation. The 65k specification is 
	just that - a specification that anyone can implmenent. As such it is licensed under the
	Creative Commons Attributable Share-Alike license, i.e. anyone who shares derivative works
	has to attribute the contributors, and has to give similar rights. The specification 
	does not include the implementation. Someone may just as well create a fully commercial
	implementation - I actually hope that someone will take this specs and create a brand new
	6502ish CPU!
	</p><p>
	The following section below describes my own implementation of the 65k specs. It is thus
	separate from the actual specification. The description documents are also under 
	Creative Commons Attribution Share-Alike, but I have not yet decided on the VHDL code 
	license, although I am tending to GPL or LGPL.
    </p><p>
        To my understanding the techniques described here have been used by various processors for decades already.
        Still there is no guarantee that a processor according to this spec would not be covered by some patents.
	</p>
  </div><div class="h2"><div class="h2h"><div class="h2t"> </div><h2><a name="news" id="news">News:</a></h2><div class="toplink"><a href="#top">Top</a></div></div><div class="h2c"><ul class="news"><li><div> </div><small>2010-10-16</small>
	Clarified licensing, overworked roadmap.
    </li><li><div> </div><small>2010-09-18</small>
	Started this page
    </li></ul></div></div><div id="toc" class="h2"><div class="h2h"><div class="h2t"> </div><h2>Table of content</h2><div class="toplink"><a href="#top">Top</a></div></div><div class="h2c"><ul><li><a href="#spec">65k Specification</a></li><li><a href="#impl">My 65k Implementation</a></li><li><a href="#roadmap">Draft 65k Roadmap</a></li><li style="list-style-type:none;"><ul><li><a href="#65002">65002</a></li><li><a href="#65010">65010</a></li><li><a href="#65020">65020</a></li><li><a href="#65040">65040</a></li><li><a href="#65060">65060</a></li><li><a href="#io">652xx</a></li><li><a href="#refs">References</a></li></ul></li></ul></div></div><div class="h2"><div class="h2h"><div class="h2t"> </div><h2><a name="spec" id="spec">65k Specification</a></h2><div class="toplink"><a href="#top">Top</a></div></div><div class="h2c"><p>
	These documents describe and specify the 65k processors and as such at least the programming
	model is to be seen as a real specification.
	</p><p>
	Not all documents have been written or even finalized yet.
     	</p>
	<ul>
	<li><a href="specsprog.html">Implementation specs I - programming model</a> - opcode definitions, register sets, functional definition - working draft</li>
	<li>Implementation specs II - hardware model - external interface options, signal definitions - to be done</li>
	</ul>
     </div></div><div class="h2"><div class="h2h"><div class="h2t"> </div><h2><a name="impl" id="impl">My 65k Implementation</a></h2><div class="toplink"><a href="#top">Top</a></div></div><div class="h2c"><p>
	These documents describe my implementation of the 65k.
	</p><p>
	Not all documents have been written or even finalized yet.
     	</p>
	<ul>
	<li><a href="arch.html">Architecture overview</a> - processor architecture, component definitions - initial draft</li>
	<li><a href="tests.html">Test setup</a> - Before starting the implementation, define how to test it - initial draft</li>
	<li>Implementation - Implementation documentation - to be done</li>
	<li>Hardware implementation - FPGA boards and hardware setups - to be done</li>
	</ul>
     </div></div><div class="h2"><div class="h2h"><div class="h2t"> </div><h2><a name="roadmap" id="roadmap">Draft 65k Roadmap</a></h2><div class="toplink"><a href="#top">Top</a></div></div><div class="h2c"><p>This section describes the different versions of the 65k processor, at least what the
	current plans for it are. All processors implement the 65k specifications up to a point
	as defined in this roadmap - leaving out optional parts.
	</p><p>
	The idea behind this is that it will be easier to implement a "smaller" CPU first, find the bugs
	and fix them, then expand it, than to directly start with a full-featured CPU where bugs
	may be even more difficult to find.
	</p>
     <h3><a name="65002" id="65002">65002</a></h3><p>Design goals for the 65002 CPU replacement are:</p>
<ul>
<li>Provide original 6502 (legal) opcodes, plus the 65k opcodes up to 16 bit</li>
<li>16bit ALU - make it a 6502 as it could have been ...</li>
<li>eliminate bogus memory cycles</li>
<li>keep 8 bit external data bus for now</li>
<li>keep 16 bit address space for now</li>
<li>No mode bits - as opposed to the 65816 an opcode should have exactly one meaning (except for the original BCD bit)</li>
<li>Extend the original registers to 16 bit (i.e. make it the 65002W - W for Word = 16 bit)</li>
<li>No further expansion, i.e. no MMU, no hypervisor mode</li>
</ul>
    <h3><a name="65010" id="65010">65010</a></h3><p>Design goals for the 65010 CPU replacement are:</p>
<p>This has been cancelled. The original roadmap stated vector operations, but currently I think MMU and virtualization is more important</p>

    <h3><a name="65020" id="65020">65020</a></h3><p>Design goals for the 65020 CPU replacement are:</p>
<ul>
<li>Extension of the 65002 CPU from above</li>
<li>abort-ability - i.e. ability to abort an opcode in mid-process and roll it back</li>
<li>Add MMU functionality according to 65k programming specs</li>
<li>Basic "ring 0" functionality - separation of hypervisor and user mode</li>
<li>Optionally 16bit memory interface, possibly with write-back cache/write combining, to allow for very-fast-RAM usage that is only available with 16bit</li>
<li>Register size 32 bit (65020L)</li>
</ul>
    <h3><a name="65040" id="65040">65040</a></h3><p>Design goals for the 65040 CPU replacement are:</p>
<ul>
<li>Extension of the 65020 CPU from above</li>
<li>Optionally 32bit memory interface, possibly with write-back cache/write combining, to allow for very-fast-RAM usage that is only available with 16bit</li>
<li>Register size 64 bit (65020LL)</li>
</ul>
    <h3><a name="65060" id="65060">65060</a></h3><p>This one is really sketchy for now...Design goals for the 65060 CPU replacement are:</p>
<ul>
<li>Extension of the 65040 CPU from above</li>
<li>Add multi-core functionality - coordinating/synchronizing multiple cores in a single FPGA</li>
<li>Possibly/optionally include L1 read caches in addition to the 16bit memory interface. Not sure if L1 is shared between cores or not</li>
<li>Possibly/optionally include cache coherency protocol between multiple FPGAs</li>
</ul>
    <h3><a name="io" id="io">652xx</a></h3><p>In addition to a new CPU, I'd probably try to make a bug-fixed 6522, or a 6526 replacement...</p>
    <h3><a name="refs" id="refs">References</a></h3>
        <ul><li><a href="http://homepage.mac.com/jorgechamorro/a2things/PDFs/65xxx.txt" target="_blank" class="extlink">6502 history and future</a> </li><li><a href="http://www.stevechamberlin.com/cpu/2010/03/27/8-bit-cpu-comparison/" target="_blank" class="extlink">Big Mess O' Wires comparison of CPUs</a> </li><li><a href="http://www.stevechamberlin.com/cpu/bmow1/" target="_blank" class="extlink">Big Mess O' Wires CPU architecture</a> </li><li><a href="http://forum.6502.org/viewtopic.php?t=1603&amp;start=17" target="_blank" class="extlink">6502.org: kc5tja's wishlist</a> </li><li><a href="http://www.geocities.jp/team_zero_three/FC/index_e.html" target="_blank" class="extlink">FC Hardware preservation project</a> </li></ul></div></div><div class="h2"><div class="h2h"><div class="h2t"> </div><h2></h2><div class="toplink"><a href="#top">Top</a></div></div><div class="h2c">
        No warranty! 
	Subject to change without notice!
	There is no guarantee that this specification will actually work,
        or will ever be implemented
  </div></div><hr />
<p>Return to <a href="../index.html">Homepage</a></p>

  </div></div><div id="footer"> </div></div><script type="text/javascript">myUp="../";</script><script type="text/javascript" src="../scripts-all.js"></script></body></html> 

