<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="author" content="Andr&eacute;  Fachat">

<meta name="description" content="6502 16bit 32bit 64bit expansion">
<meta name="keywords" content="6502 16bit 32bit 64bit expansion">
<link rev="made" href="mailto:afachat@gmx.de">
<link rel="stylesheet" title="Default" type="text/css" href="../../style-min.css"><link rel="alternate stylesheet" title="Advanced" type="text/css" href="../../advanced.css">
<title>The af65002 Processor</title></head>
<body><div id="mainbox"><a name="top"></a><div id="leftcol"><div id="menu" class="top"><div class="tophead">navigate</div><div id="filter"><form action="#"><table id="filterbox"><tr><td><input alt="menu filter" size="8" name="filter" value="filter" type="text"></td><td><div id="cancel" class="i_cancel">&nbsp;</div></td></tr></table><table id="expcol"><tr><td><div id="expand" class="i_expand">&nbsp;</div></td><td><div id="collapse" class="i_collapse">&nbsp;</div></td></tr></table></form></div>
<div id="mtree">
<a id="m_homepage" href="../../index.html">Homepage</a>
<ul class="menu0" >
<li class="separator">Commodore</li>
<li class="dir" id="m_petindex"><div class="i_dir">&nbsp;</div><a href="../../petindex/index.html">CBM PETindex</a>

</li>
<li class="dir" id="m_cbmhw"><div class="i_dir">&nbsp;</div><a href="../../cbmhw/index.html">CBM hardware and mods</a>

</li>
<li class="separator">Hardware</li>
<li class="dir" id="m_65k"><div class="i_dir">&nbsp;</div><a href="../../65k/index.html">The 65k Project</a>

<ul class="menu1" >
<li><div class="i_file">&nbsp;</div><a href="../features.html">Features</a></li>
<li class="separator">Specification</li>
<li><div class="i_file">&nbsp;</div><a href="../specsprog.html">Programming Model</a></li>
<li><div class="i_file">&nbsp;</div><a href="../future.html">Future Extensions</a></li>
<li><div class="i_link">&nbsp;</div><a href="../af65002">65002</a></li>
<li><div class="i_file">&nbsp;</div><a href="../designnotes.html">Design Notes</a></li>
<li class="separator">Tools</li>
<li><div class="i_file">&nbsp;</div><a href="../crossass.html">Cross-Assembler</a></li>
<li><div class="i_file">&nbsp;</div><a href="../nativetools.html">Native Tools</a></li>
<li class="separator">Implementation</li>
<li><div class="i_file">&nbsp;</div><a href="../arch.html">General architecture</a></li>
<li class="dir" id="m_65k_af65002"><div class="i_dir">&nbsp;</div><a href="index.html" class="mcurrent">af65002 </a>

<ul class="menu2" >
<li class="separator">Specification</li>
<li><div class="i_file">&nbsp;</div><a href="af65002front.html">Overview</a></li>
<li><div class="i_file">&nbsp;</div><a href="af65002regs.html">Register Set</a></li>
<li><div class="i_file">&nbsp;</div><a href="af65002opstruct.html">Opcode Structure</a></li>
<li><div class="i_file">&nbsp;</div><a href="af65002admodes.html">Addressing Modes</a></li>
<li><div class="i_file">&nbsp;</div><a href="af65002prefixes.html">Prefixes</a></li>
<li><div class="i_file">&nbsp;</div><a href="af65002opcodes.html">Opcodes Overview</a></li>
<li><div class="i_file">&nbsp;</div><a href="af65002opdesc.html">Opcode Description</a></li>
<li><div class="i_file">&nbsp;</div><a href="af65002int.html">Reset, Traps and Interrupts</a></li>
<li><div class="i_file">&nbsp;</div><a href="af65002hyper.html">User- and Hypervisor Mode</a></li>
<li><div class="i_file">&nbsp;</div><a href="af65002mem.html">Memory Management</a></li>
<li><div class="i_file">&nbsp;</div><a href="af65002config.html">Configuration Registers</a></li>
<li><div class="i_file">&nbsp;</div><a href="af65002compat.html">Compatibility</a></li>
<li class="separator">Implementation</li>
<li><div class="i_file">&nbsp;</div><a href="af65002arch.html">Architecture Overview</a></li>
</ul>
</li>
<li><div class="i_file">&nbsp;</div><a href="../tests.html">Test setup</a></li>
</ul>
</li>
<li class="dir" id="m_csa"><div class="i_dir">&nbsp;</div><a href="../../csa/index.html">CS/A65 Caspaer and Gecko computer</a>

</li>
<li class="dir" id="m_adv65"><div class="i_dir">&nbsp;</div><a href="../../adv65/index.html">Advanced 6502</a>

</li>
<li class="dir" id="m_hwinfo"><div class="i_dir">&nbsp;</div><a href="../../hwinfo/index.html">ICs and Standards Info</a>

</li>
<li class="dir" id="m_mischw"><div class="i_dir">&nbsp;</div><a href="../../mischw/index.html">Other hardware (e.g. tools)</a>

</li>
<li class="separator">Software</li>
<li><div class="i_file">&nbsp;</div><a href="../../osa/index.html">GeckOS operating system</a>
</li>
<li><div class="i_file">&nbsp;</div><a href="../../lib6502/index.html">Lib6502 standard</a>
</li>
<li><div class="i_file">&nbsp;</div><a href="../../o65/index.html">O65 file format</a>
</li>
<li><div class="i_file">&nbsp;</div><a href="../../misc/index.html">Misc software</a>
</li>
<li class="separator">Knowledge Bits</li>
<li class="dir" id="m_icapos"><div class="i_dir">&nbsp;</div><a href="../../icapos/index.html">Computer/OS Architecture</a>

</li>
<li class="dir" id="m_icaphw"><div class="i_dir">&nbsp;</div><a href="../../icaphw/index.html">6502 Hardware Bits</a>

</li>
<li class="separator">Misc</li>
<li><div class="i_file">&nbsp;</div><a href="../../contact.html">Contact</a></li>
<li><div class="i_file">&nbsp;</div><a href="../../sneak.html">Sneak preview</a></li>
<li><div class="i_file">&nbsp;</div><a href="../../design.html">Web design</a></li>
</ul>

</div>
		</div><div class="top" id="browser"><div class="tophead">browser</div><div>
			Site has been tested with a number of browsers and systems. Javascript required for advanced menu, but degrades gracefully without Javascript. IE6 not supported anymore!
			</div></div></div><div id="rightcol"><div class="top" id="google"><div class="tophead">search</div><div><form method="get" action="http://www.google.com/search" target="_blank"><input alt="search parameters" type="text" name="q" size="10" maxlength="255" value=""><input class="advbutton" type="submit" value="Search my site"><br>(Google, in new window)
	                        <input type="hidden" name="sitesearch" value="www.6502.org/users/andre"></form></div></div><div class="top" id="share"><div class="tophead">share</div><div><div id="socialshareprivacy"></div></div></div><div class="top" id="twitter"><div class="tophead">follow</div><div>
		            Follow my 8-bit tweets on<br><a class="extlink" target="_blank" href="https://twitter.com/#!/search/realtime/afachat%20%238bit">Twitter</a><br> (In new window)
		</div></div><div class="top" id="forum"><div class="tophead">discuss</div><div><p>Discuss my site on <a class="extlink" target="_blank" href="http://forum.6502.org/viewtopic.php?t=956">this 6502.org forum thread</a></p><p>Discuss this page's content on <a class="extlink" target="_blank" href="http://forum.6502.org/viewtopic.php?p=12180"> this 6502.org forum thread</a></p><p>(Forum registration required to post)</p></div></div><div class="top" id="hot"><div class="tophead">Hot!</div><div>
<p>Dive into the retro feeling and build yourself a <a href="../../cbmhw/ryofat40/index.html">Commodore PET replica</a></p>
<p>Need more speed? Speed up your 6502 computer with this <a href="../../adv65/pet816/index.html">10&nbsp;MHz 6502 CPU replacement board</a></p>
<p>Interested in electronics design? Look at the <a href="../../icaphw/design.html">design lesson</a> I got from Bil Herd, the hardware designer of the C128</p>
<p>Want 64bit? - pimp the 6502 with the <a href="../../65k/index.html">65k processor design!</a></p>

		</div></div></div><div id="midcol"><div class="top" id="ie6warn">
You are using an old MS Internet Explorer as browser. This version is not supported anymore. Please use a 
more modern browser, like Internet Explorer 8 or later, 
<a target="_blank" class="extlink" href="http://www.firefox.com">Firefox</a>,
<a target="_blank" class="extlink" href="http://www.google.com/chrome">Google Chrome</a>, or
<a target="_blank" class="extlink" href="http://www.opera.com">Opera</a>.
</div><div class="top" id="content"><div id="minmax"></div>
<div id="breadcrumbs">
<a href="../../index.html">Homepage</a>
&gt;&gt; <a href="../index.html">The 65k Project</a>&gt;&gt;  af65002</div>
<h1>The af65002 Processor</h1><p class="copyright">(C)
2011-2012 Andr&eacute;  Fachat</p> 
<div class="overview">
	<p>
	This page describes the my <em>af65002</em> implementation variant of the 
	<a href="http://www.6502.org/users/andre/65k">65k</a> processor architecture.
	</p>
	<p>
	Note that the specification of the instruction set architecture (on 
	<a href="http://www.6502.org/users/andre/65k">65k</a>) is separate from the implementation
	as specified here. Also the specification and the implementation are covered under different
	licenses. While the documentation is under a creative commons license, the implementation
	here is under the LGPL (lesser general public license).
	</p><p>
	The implementation section below describes my own implementation of the 65k specs. 
    	</p><p>
        To my understanding the techniques described here have been used by various processors for decades already.
        Still there is no guarantee that a processor according to this spec would not be covered by some patents.
	</p>
  </div><div id="toc" class="h2"><div class="h2h"><div class="h2t">&nbsp;</div><h2>Table of content</h2><div class="toplink"><a href="#top">Top</a></div></div><div class="h2c"><ul><li><a href="#preface">Preface</a></li><li style="list-style-type:none;"><ul><li><a href="#lic">License</a></li><li><a href="#disc">Disclaimer</a></li><li><a href="#cont">Contributors</a></li><li><a href="#chg">Changes</a></li></ul></li><li><a href="#outline">65002 Outline</a></li><li><a href="#specs">Specification</a></li><li><a href="#arch">Architecture</a></li><li><a href="#code">Code</a></li><li><a href="#roadmap">Roadmap</a></li><li style="list-style-type:none;"><ul><li><a href="#naming">Naming conventions</a></li><li><a href="#R0">Revision zero</a></li><li><a href="#R1">Revision one</a></li></ul></li></ul></div></div><div class="h2"><div class="h2h"><div class="h2t">&nbsp;</div><h2><a name="preface">Preface</a></h2><div class="toplink"><a href="#top">Top</a></div></div><div class="h2c"><h3><a name="lic">License</a></h3><p>
        This content is licensed under the Creative Commons Attribution Share-Alike license, CC-BY-SA version 3.0.
    </p><p>
        Note this "content" includes this web page, but does not include the 6502.org header
        and the left and right web page columns.  Click on the "Maximize" link to see
        the contents covered by this license.
    </p><ul><li><a href="http://creativecommons.org/licenses/by-sa/3.0/legalcode" target="_blank" class="extlink">CC-BY-SA legal code</a> </li><li><a href="http://creativecommons.org/licenses/by-sa/3.0/" target="_blank" class="extlink">CC-BY-SA license deed (short form)</a> </li></ul><h3><a name="disc">Disclaimer</a></h3><p>
        The content comes with no warranty at all!
        There is no guarantee and no promise that this specification is correct, consistent, will actually work,
        or will ever be implemented at all.
    </p><p>
        To my understanding the techniques described here have been used by various processors for decades already.
        Still there is no guarantee that a processor according to this spec would not be covered by some patents.
    </p><p>
        Subject to change without notice!
    </p><h3><a name="cont">Contributors</a></h3><ul>
        <li>Andr&eacute;  Fachat - initial author: <a href="http://www.6502.org/users/andre">8bit Homepage</a></li>
    </ul><h3><a name="chg">Changes</a></h3><p>This section describes the changes to the document:</p>
      <table border="1">
        <tr><th>Date</th><th>Author</th><th>Changes</th></tr>
        <tr><td>2012-04-11</td><td>Andr&eacute;  Fachat</td><td>Initial version</td></tr>
      </table>
    </div></div><div class="h2"><div class="h2h"><div class="h2t">&nbsp;</div><h2><a name="outline">65002 Outline</a></h2><div class="toplink"><a href="#top">Top</a></div></div><div class="h2c"><p>
	The 65002 is the first implementation of my af65k line of processors.
	As such it implements the basic features for af65k instruction set:
	</p>
	<ul>
	<li>Wide registers and address sizes</li>
	<li>Wide memory interface</li>
	<li>Additional B and E registers</li>
	<li>Prefix bytes to enable use of wide and more registers</li>
	<li>User and Hypervisor mode</li>
	<li>EXT opcode page, some SYS opcodes</li>
	</ul>
	<p>
	Additionally the processor is compile-time configurable for 16, 32 or 64&nbsp;bit 
	wide registers, and currently 8 or 16&nbsp;bit memory interface.
	</p>
	<p>
	Here is what is notably missing:
	</p>
	<ul>
	<li>Memory management / address translation</li>
	<li>QUICK opcode page</li>
	<li>Most of the SYS opcode page</li>
	<li>No processor configuration registers (so far?)</li>
	</ul>
     </div></div><div class="h2"><div class="h2h"><div class="h2t">&nbsp;</div><h2><a name="specs">Specification</a></h2><div class="toplink"><a href="#top">Top</a></div></div><div class="h2c"><p>
	The af65002 specification includes all the opcodes from the standard 65k opcode page,
	as well as the prefix1 and prefix2 prefixes. It also includes the EXT and SYS prefixes.
	</p>
	<p>
	The exact specs are described in these pages generated from the
	actual processor code generator:
	</p>
<ul>
<li><a href="af65002front.html">Overview</a></li>
<li><a href="af65002regs.html">Register Set</a></li>
<li><a href="af65002opstruct.html">Opcodes Structure </a></li>
<li><a href="af65002admodes.html">Addressing Modes </a></li>
<li><a href="af65002prefixes.html">Prefixes</a></li>
<li><a href="af65002opcodes.html">Opcode Overview</a></li>
<li><a href="af65002opdesc.html">Opcode Docs</a></li>
<li><a href="af65002int.html">Reset, Traps and Interrupts</a></li>
<li><a href="af65002hyper.html">User/Hypervisor Mode</a></li>
<li><a href="af65002mem.html">Memory Management</a></li>
<li><a href="af65002config.html">Configuration Registers</a></li>
<li><a href="af65002compat.html">Compatibility</a></li>
</ul>
     </div></div><div class="h2"><div class="h2h"><div class="h2t">&nbsp;</div><h2><a name="arch">Architecture</a></h2><div class="toplink"><a href="#top">Top</a></div></div><div class="h2c"><p>
	The 65002 architecture is described in a separate page:</p>
	<ul>
	<li><a href="af65002arch.html">af65002 architecture</a></li>
	</ul>
     </div></div><div class="h2"><div class="h2h"><div class="h2t">&nbsp;</div><h2><a name="code">Code</a></h2><div class="toplink"><a href="#top">Top</a></div></div><div class="h2c"><p>
	The code is published on the <a href="http://github.com/fachat/af65k">Github</a> site.
	You can either browse the code there or use git to download the code to a local
	repository, to be able to compile it yourself.
	</p>
	<p>
	The code is written in VHDL.
     </p></div></div><div class="h2"><div class="h2h"><div class="h2t">&nbsp;</div><h2><a name="roadmap">Roadmap</a></h2><div class="toplink"><a href="#top">Top</a></div></div><div class="h2c"><p>
	The af65002 will share many parts of the code with other variants, as the 
	system is very modular. As the af65k is developed further, the af65002
	will inherit further features, like (if at all) more addressing modes or opcodes.
     </p><p>
	Another option is the multi-core functionality.
     </p><h3><a name="naming">Naming conventions</a></h3><p>
	  The naming convention for the af65002 is:
	  </p><pre>
    af65002Rx/yz
</pre><p>
	  where <code>x</code> is the revision number, <code>y</code> is the number of cores,
	  and <code>z</code> is the width notation. So for example:</p><pre>
    af65002R0/1W
</pre>or<pre>
    af65002R0W
</pre><p>
	  is the notation of revision 0 (zero), single core, and word width (16&nbsp;bit) registers.
	  </p><p>
	  The notation and number of cores is numeric, the width is "W", "L", or "Q" for 16, 32 or 64&nbsp;bit
	  widths.
	  </p>
	<h3><a name="R0">Revision zero</a></h3><p>
	  The revision zero is the ongoing revision as long as I am still working on it.
	</p><h3><a name="R1">Revision one</a></h3><p>
	  This revision will be the first "complete" revision, with all the EXT and SYS opcodes
	  as currently defined, including the processor configuration registers.
	</p></div></div><div class="h2"><div class="h2h"><div class="h2t">&nbsp;</div><h2></h2><div class="toplink"><a href="#top">Top</a></div></div><div class="h2c">
        No warranty! 
	Subject to change without notice!
	There is no guarantee that this specification will actually work,
        or will ever be implemented
  </div></div><hr>
<p>Return to <a href="../../index.html">Homepage</a></p>

  </div></div><div id="footer">&nbsp;</div></div><script type="text/javascript">myUp="../../";</script><script type="text/javascript" src="../../scripts-all.js"></script><script type="text/javascript" src="../../jquery.socialshareprivacy.js"></script><script type="text/javascript">
          jQuery(document).ready(function($){
                  if($('#socialshareprivacy').length != 0){
                            $('#socialshareprivacy').socialSharePrivacy();
                  }
          });
  </script></body></html> 
