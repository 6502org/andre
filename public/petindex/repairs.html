<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="author" content="André  Fachat">

<meta name="description" content="Commodore hardware repair descriptions">
<meta name="keywords" content="Commodore hardware repair">
<title>Commodore PET repair info</title>
<link rev="made" href="mailto:afachat@gmx.de">
<LINK REL="stylesheet" TITLE="Default" TYPE="text/css" HREF="../style.css">
<LINK REL="alternate stylesheet" TITLE="Advanced" TYPE="text/css" HREF="../advanced.css">
</head>
<body>
<DIV ID="menu">
<ul><li class=homepage><a href=../index.html>Homepage</a></li>
<ul class="menu0" >
<li class="separator">Commodore</li>
<li class="dir"><a href="../petindex/index.html">CBM PETindex</a></li>
<ul class="menu1" >
<li class="file"><a href="versions.html">PET versions</a></li>
<li class="dir"><a href="drives/index.html">Disk drives</a></li>
<li class="file"><a href="boards.html">Board versions</a></li>
<li class="file"><a href="pinouts.html">Connectors</a></li>
<li class="file"><a href="keyboards.html">Keyboards</a></li>
<li class="file"><a href="progmod.html">Hardware programming</a></li>
<li class="file"><a href="roms.html">ROM descriptions</a></li>
<li class="file"><a href="crtc.html">CRTC operation</a></li>
<li class="file"><a href="poke.html">Killer poke</a></li>
<li class="file"><a href="superpet.html">SuperPET MMF9000</a></li>
<li class="file"><a href="8x96.html">The 8096 and 8296 models</a></li>
<li class="file"><a href="hw.html">Hardware projects</a></li>
<li class="file"><a href="sw.html">Software projects</a></li>
<li class="file"><a href="emus.html">PET emulators</a></li>
<li class="file"><a href="transfer.html">File transfers</a></li>
<li class="dir"><a href="gallery/index.html">PET gallery</a></li>
<li class="file"><a href="links.html">Links</a></li>
</ul>
<li class="dir"><a href="../cbmhw/index.html">CBM hardware and mods</a></li>
<li class="separator">Hardware</li>
<li class="dir"><a href="../csa/index.html">CS/A65 and Gecko computer</a></li>
<li class="dir"><a href="../hwinfo/index.html">ICs and Standards Info</a></li>
<li class="separator">Software</li>
<li class="dir"><a href="../osa/index.html">GeckOS operating system</a></li>
<li class="dir"><a href="../lib6502/index.html">Lib6502 standard</a></li>
<li class="dir"><a href="../o65/index.html">O65 file format</a></li>
<li class="dir"><a href="../misc/index.html">Misc software</a></li>
<li class="separator">Knowledge Bits</li>
<li class="dir"><a href="../icap/index.html">Articles</a></li>
<li class="separator">Misc</li>
<li class="file"><a href="../contact.html">Contact</a></li>
</ul>
</ul>
</DIV>
<DIV ID="content">
<h1>Commodore PET repair info</h1>
<p class="copyright">(C)
- André  Fachat</p> 
<p><p>
	This page contains an overview over hardware defects,
	how to detect them and how to fix them.
	</p><p>Note: this is a work in progress!</p>
  </p>
<h3>News:</h3>
<ul class="news"><li>
<small>2006-12-21</small>
	Started this page
    </li></ul>
<DIV ID="toc">
<H2>Table of content</H2>
<dir>
<li><a href="#">Generic Advice</a></li>
<li><a href="#">PET's dead</a></li>
<li><a href="#">Funny characters on the screen</a></li>
<li><a href="#">Monitor and other weird symptoms</a></li>
<li><a href="#">Links</a></li>
</dir>
</DIV>
<h2>Generic Advice</h2>
	This section contains generic advice.
    <ul>
<li>
<strong>Tools</strong>: 
	In general you should have good tools if you endeavor to analyze
	and fix a hardware problem with your PET. My main tool is a 
	Voltmeter, and I regularly use an old oscilloscope (all tubes,
	must be the same age as the first PET.... :-)
	<br>
	Even without an oscilloscope you can use the Voltmeter to check
	lines like Phi2 or address lines. If the Voltmeter shows Phi2
	at constant 5V, it's dead. Same for 0V. Instead the Voltmeter should
	be somewhere around 2-3V, as it averages Phi2 high and low.
	<br>
	Additionally I have a simple "CPU emulator": A small board to plug
	into the CPU socket, where I can set all address lines and the
	R/-W line with dip switches. I use this to check address line
	decoding.
	<br>
	A reset switch comes in handy as well.
      <br><br>
</li>
<li>
<strong>Be Careful</strong>: 
	If handled improperly the PET electronics can be damaged. So please
	minimize the risk of static electricity.
	<br>
	The monitor can be damaged by switching it on and off very often
	during testing. Consider using a separate monitor with the signal
      <br><br>
</li>
<li>
<strong>Prepare</strong>: 
	Prepare for your job. Read all about the symptoms you find on the
	net, so you don't start in the wrong place.
	<br>
	Print out the schematics. That helps.
      <br><br>
</li>
<li>
<strong>First Job</strong>: 
	When you get a PET to repair, first see if there is any apparent
	damage. This includes the inside. Check that all necessary ROMs are 
	present.
	<br>
	PETs are notoriously known for socketed chips moving out of their
	sockets. So one thing to do is to take the chips out and reseat
	them properly. Take care to put them back in in the correct 
	orientation.
      <br><br>
</li>
</ul>
<h2>PET's dead</h2>
	This section describes situations where the PET seems to be "dead".
	<br>
	Apparently the new "CRTC" PET are more difficult than the older 
	ones, as the CRTC must be programmed to generate a valid video
	signal. Older PET would show at least garbage even if the CPU
	was dead.
    <ul>
<li>
<strong>Initial Check</strong>: 
	Before you check anything else, check that there is power on 
	the board e.g. by measuring 5V on the userport, then check
	Phi2. If both are ok, then check what the CPU interrupt lines 
	(IRQ, NMI, RES) do, and then the address lines. This should give
	you an idea if it is a very basic problem or maybe something with
	the ROMs for example.
      <br><br>
</li>
<li>
<strong>CRTC PET</strong>: 
	In the CRTC PET a "dead" PET may not be completely dead. The CPU
	must program the CRTC to actually generate a valid video signal.
	So if the CPU is running and the PET still does not work, check
	the ROM contents and the address decoding (either with the CPU
	emulator or by monitoring the ROM select lines, esp. after reset.
      <br><br>
</li>
<li>
<strong>8296(D)</strong>: 
	The 8296 and 8296-D (that use the same board, so I'll use 8296 only)
	are notoriously known for broken PLA chips. To check that measure
	the output pins of UE5 and UE6 with the scope. If they are constant
	around 1-3V, but not clean TTL signals (0V or 5V) they are broken.
	Build a replacement e.g. as described on 
	<a href="http://www.vic20.de/html/eprom_pla_8296_und_c64.html">this
	page</a> (in German, but should be easy to understand in english as well). 
	Or use the info on <a href="http://www.zimmers.net/anonftp/pub/cbm/firmware/computers/pet/8296/index.html">this page</a>, including a GAL replacement
	of the UE5 PLA.
      <br><br>
</li>
</ul>
<h2>Funny characters on the screen</h2>
	This section has descriptions of symptoms with "funny characters"
	on the screen.
    <ul>
<li>
<strong>Non-CRTC-PET</strong>:  
	Here the screen displays the screen memory content even without 
	the CPU doing anything. Therefore a "working" screen with constant funny
	characters only says that the video circuitry seems to work.
	<br>
	It might be a video or general memory problem. This can for example
	be checked by swapping memory chips around. See also the first
	link below.
	<br>
	If that does not help, go to the "PET's dead" section.
      <br><br>
</li>
<li>
<strong>Flickering screen</strong>: 
	If the screen is flickering in the sense that characters are changing
	shape all the time, i.e. their pixel representation is not constant
	or does not correspond to any know CBM character, then there is
	a problem with the character generation. Try to reseat the 
	character ROM, check its content.
      <br><br>
</li>
</ul>
<h2>Monitor and other weird symptoms</h2>
<p>
	This section has an assorted list of symptoms...
	</p>
    <ul>
<li>
<strong>Monitor after reset</strong>:  
	When the PET comes up with the built-in monitor (TIM) instead of
	the BASIC prompt, check the value of the stack pointer. If it is
	very low (e.g. "01") then there is a stack overflow, probably 
	caused by too many interrupts. Check the "VDRIVE" signal on 
	the keyboard PIA or VIA IC. If it shows the vertical sync video
	signal, only that it is not between 0V and 5V, but between around 
	0V and 1V, then the VIA may be broken and pulling the signal low,
	so that the PIA has problems detecting the interrupt.
      <br><br>
</li>
<li>
<strong>No 'chirp' after reset</strong>:  
	The 12" models have a piezo beeper and since BASIC4 they "chirp"
	when reset. If such a model does not do this, check the 
	beeper signal. If it does not exist, there may be problems with the
	VIA. 
	<br>
	In my case I had the 8296 boot either with chirp into the 
	TIM monitor or without chirp into the BASIC prompt, and I found
	a broken VIA.
      <br><br>
</li>
</ul>
<h2>Links</h2>
<p>
	This section has links to descriptions of how hardware
	issues with the PET have been resolved.
	</p>
    <ul><li class="subitem">
<a href="http://www.geocities.com/davegostelow/PETrestore/PETrestore.html">PET restoration</a>  of an original PET 2001-8 by Dave Gostelow
      <br><br>
</li></ul>
<h2>Disclaimer</h2>
<p>
All Copyrights are acknowledged.
The information here is provided under the terms of the
GNU Public License version 2 unless noted otherwise.
    </p>
<hr>
<p>Return to <a href="../index.html">Homepage</a></p>

  </DIV>
</body>
</html> 

